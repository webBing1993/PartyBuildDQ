<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>购物车</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" href="/exchange/css/framework7.ios.colors.css">
    <link rel="stylesheet" href="/exchange/css/framework7.ios.css">
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Microsoft YaHei';
            -webkit-tap-highlight-color:rgba(0,0,0,0);
        }
        body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, form, input, p, table, th, td, select, option {
            padding: 0;
            margin: 0;
            list-style: none;
        }
        .list-block{
            margin:0;
        }
        .red{
            background-color:#ff3b30!important;
        }
        .swipeout{
            height:100px;
            border-bottom:1px solid #f1f1f1;
        }
        .swipeout-content{
            height:100%;
        }
        .swipeout-content>img{
            width:80px;
            height:80px;
            float:left;
            display:block;
            margin-left:12px;
            margin-top:10px;
        }
        .swipeout-content>p{
            position:absolute;
            left:104px;
            top:10px;
            font-size: 16px;
            color:#333;
            overflow : hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }
        .swipeout-content>a{
            padding-left: 20px;
            height: 25px;
            background: url(/exchange/4.png) no-repeat left center;
            background-size: 16px 16px;
            line-height: 25px;
            color: #ffc51e;
            font-size: 17px;
            position:absolute;
            left:104px;
            bottom:10px;
        }

        .swipeout-content>div{
            position:absolute;
            right:12px;
            bottom:10px;
            height:27px;
            color:#fc4f41;
            font-size: 14px;
            line-height: 20px;
            border:1px solid #eee;
        }
        .swipeout-content>div>div{
            float:left;
            padding-left:10px;
            padding-right:10px;
            border-left:1px solid #eee;
            border-right:1px solid #eee;
            line-height: 25px;
        }
        .swipeout-content>div>b{
            float:left;
            width:25px;
            height:25px;
            float:left;
            background:url('/exchange/11.png') no-repeat center center;
            background-size:10px 10px;
            -webkit-tap-highlight-color:rgba(0,0,0,.5);
        }
        .swipeout-content>div>b:last-child{
            background-image: url('/exchange/10.png');
        }
        .nomessage{
            text-align: center;
            position:fixed;
            top:50%;
            left:50%;
            -webkit-transform: translateY(-50%) translateX(-50%);
        }
        .nomessage>img{
            width:56%;
            margin-bottom:15px;
        }
        .nomessage>span{
            font-size: 17px;
            color:#ccc;
        }
        .countSum{
            position:fixed;
            width:100%;
            height:50px;
            bottom:0;
            background-color:#fff;
        }
        .countSum>span{
            float: left;
            height:50px;
            line-height: 50px;
            padding-left:12px;
            font-size: 16px;
        }
        .countSum>span>a {
            padding-left: 22px;
            height: 50px;
            background: url(/exchange/4.png) no-repeat left center;
            background-size: 17px 17px;
            line-height: 50px;
            color: #ffc51e;
            font-size: 16px;
            display:inline-block;
        }
        .countSum>a{
            float:right;
            width:80px;
            height:50px;
            line-height: 50px;
            color:#fff;
            background-color:#fc4f41;
            text-align: center;
            font-size: 17px;
        }
        .countSum>a:last-child{
            background-color:#ffc51e;
        }
    </style>
</head>
<body>
<!-- Views -->
<div class="views">
    <!-- Your main view -->
    <div class="view view-main">
        <!-- Pages -->
        <div class="pages">
            <div class="page" data-page="home">
                <div class="page-content">
                    {empty name="car"}
                    <div class="nomessage">
                        <img src="/exchange/5.png" alt="" ><br>
                        <span>抱歉，您还没有添加商品</span>
                    </div>
                    {else/}
                    <div class="countSum">
                        <span>
                            合计：
                            <a>123</a>
                        </span>
                        <a>结算</a>
                        <a>清空</a>
                    </div>
                    <div class="list-block">
                        <ul>
                            {volist name="car" id="co"}
                            <li class="swipeout" data-id="1">
                                <div class="swipeout-content ">
                                    <img src="{$co->get_p->front_cover|get_cover='path'}" alt="">
                                    <p>{$co->get_p->title}</p>
                                    <a>{$co->get_p->price}</a>
                                    <div class="count">
                                        <b onclick="count(1)"></b>
                                        <div>{$co.num}</div>
                                        <b onclick="count(2)"></b>
                                    </div>
                                </div>
                                <div class="swipeout-actions-right">
                                    <a href="#" class="swipeout-overswipe red">删除</a>
                                </div>
                            </li>
                            {/volist}
                        </ul>
                    </div>
                    {/empty}
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/work/js/jquery-1.12.1.min.js"></script>
<script src="/exchange/js/framework7.js"></script>
<script>
    var myApp = new Framework7();
    $('.swipeout-overswipe').click(function(){
        var a=$(this).parent().parent();
        console.log(a.attr('data-id'));
        myApp.swipeoutClose(a);//关闭标签
    });
    $(function(){
       $('.swipeout-content>p').width($(window).width()-116);
    })
</script>
</body>
</html>